CREATE TABLE SETTINGS (DESCRIPTION VARCHAR (1024), ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, NAME VARCHAR (64) NOT NULL, VALUE VARCHAR (256), PRIMARY KEY (ID))
;

CREATE TABLE TAPESTRY_VERSIONS (DESCRIPTION VARCHAR (256), ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, NAME VARCHAR (64) NOT NULL, SORTBY INTEGER NOT NULL, PRIMARY KEY (ID))
;

CREATE TABLE SOURCE_TYPES (DESCRIPTION VARCHAR (256), ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, NAME VARCHAR (64) NOT NULL, NAMEPLURAL VARCHAR (66), SORTBY INTEGER, PRIMARY KEY (ID))
;

CREATE TABLE ROLES (DESCRIPTION VARCHAR (1024) NOT NULL, ENABLED SMALLINT NOT NULL, ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, NAME VARCHAR (64) NOT NULL, PRIMARY KEY (ID))
;

CREATE TABLE ENTRY_TYPES (DESCRIPTION VARCHAR (256) NOT NULL, ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, ISCONTAINER SMALLINT NOT NULL, NAME VARCHAR (64) NOT NULL, NAMEPLURAL VARCHAR (66), SORTBY INTEGER, PRIMARY KEY (ID))
;

CREATE TABLE LICENSES (DESCRIPTION VARCHAR (1024), ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, NAME VARCHAR (64) NOT NULL, PRIMARY KEY (ID))
;

CREATE TABLE ENTRIES (DEMONSTRATIONURL VARCHAR (1024), DESCRIPTION VARCHAR (4096) NOT NULL, DOCUMENTATIONURL VARCHAR (1024), ENABLED SMALLINT NOT NULL, ENTRYTYPEID INTEGER NOT NULL, FIRSTAVAILABLE DATE, ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, LICENSEID INTEGER, NAME VARCHAR (64) NOT NULL, PARENTID INTEGER, SINCEID INTEGER, SOURCETYPEID INTEGER, UNTILID INTEGER, PRIMARY KEY (ID))
;

CREATE TABLE USERS (ENABLED SMALLINT NOT NULL, FIRSTNAME VARCHAR (128) NOT NULL, ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, LASTNAME VARCHAR (128) NOT NULL, ROLEID INTEGER, USERID VARCHAR (64), PRIMARY KEY (ID))
;

ALTER TABLE ENTRIES ADD FOREIGN KEY (ENTRYTYPEID) REFERENCES ENTRY_TYPES (ID)
;

ALTER TABLE ENTRIES ADD FOREIGN KEY (LICENSEID) REFERENCES LICENSES (ID)
;

ALTER TABLE ENTRIES ADD FOREIGN KEY (PARENTID) REFERENCES ENTRIES (ID)
;

ALTER TABLE ENTRIES ADD FOREIGN KEY (SINCEID) REFERENCES TAPESTRY_VERSIONS (ID)
;

ALTER TABLE ENTRIES ADD FOREIGN KEY (SOURCETYPEID) REFERENCES SOURCE_TYPES (ID)
;

ALTER TABLE ENTRIES ADD FOREIGN KEY (UNTILID) REFERENCES TAPESTRY_VERSIONS (ID)
;

ALTER TABLE USERS ADD FOREIGN KEY (ROLEID) REFERENCES ROLES (ID)
;

